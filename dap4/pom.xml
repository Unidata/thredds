<?xml version="1.0" encoding="UTF-8"?>
<!-- Parent Maven Configuration File for UCAR NetCDF library -->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
<modelVersion>4.0.0</modelVersion>

<!-- prerequisites> <maven>2.0.9</maven> </prerequisites -->

<!-- Propagate version changes to propery dap4.version -->

<parent>
  <groupId>edu.ucar</groupId>
  <artifactId>thredds-parent</artifactId>
  <version>4.5.0-SNAPSHOT</version>
</parent>

<!-- Project description (including license) -->

<groupId>edu.ucar</groupId>
<artifactId>dap4</artifactId>
<packaging>pom</packaging>
<version>4.5.0-SNAPSHOT</version>
<organization>
  <name>UCAR/Unidata</name>
  <url>http://www.unidata.ucar.edu/</url>
</organization>
<inceptionYear>1999</inceptionYear>

<licenses>
  <license>
    <name>(MIT-style) netCDF C library license</name>
    <url>http://www.unidata.ucar.edu/software/netcdf/copyright.html</url>
    <distribution>repo</distribution>
  </license>
</licenses>

<!-- ===========================================================
Dependency Management If a POM declares one of those dependencies, then it will use
the version specified here. Otherwise, those dependencies are ignored. Reference:
http://repo1.maven.org/maven2/
=========================================================== -->
<dependencyManagement>
  <!-- To make dependency usage of child modules in other child modules
       or projects using this POM as a BOM -->
  <dependencies>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4core</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4shared</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4client</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4cdmshared</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4cdmclient</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4servletshared</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4servlet</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4ts</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4tests</artifactId>
      <version>${project.version}</version>
    </dependency>
    <dependency>
      <groupId>${project.groupId}</groupId>
      <artifactId>d4tswar</artifactId>
      <version>${project.version}</version>
    </dependency>

    <!-- thredds -->
  <dependency>
    <groupId>edu.ucar</groupId>
    <artifactId>httpclient</artifactId>
      <version>${thredds.version}</version>
  </dependency>
    <dependency>
      <groupId>edu.ucar</groupId>
      <artifactId>cdm</artifactId>
      <version>${thredds.version}</version>
    </dependency>
    <dependency>
      <groupId>edu.ucar</groupId>
      <artifactId>netcdf4</artifactId>
      <version>${thredds.version}</version>
    </dependency>
    <dependency>
      <groupId>edu.ucar</groupId>
      <artifactId>tdm</artifactId>
      <version>${thredds.version}</version>
    </dependency>

    <!-- logging -->
    <dependency>
      <groupId>org.apache.logging.log4j</groupId>
      <artifactId>log4j-api</artifactId>
      <version>${log4j.version}</version>
    </dependency>
    <dependency>
      <groupId>org.apache.logging.log4j</groupId>
      <artifactId>log4j-core</artifactId>
      <version>${log4j.version}</version>
    </dependency>
    <dependency>
      <groupId>org.apache.logging.log4j</groupId>
      <artifactId>log4j-slf4j-impl</artifactId>
      <version>${log4j.version}</version>
      <scope>runtime</scope>
    </dependency>
    <dependency>  <!-- Adapts apache commons to slf4j, and so replaces commons-logging.jar -->
      <groupId>org.slf4j</groupId>
      <artifactId>jcl-over-slf4j</artifactId>
      <version>${org.slf4j.version}</version>
      <scope>runtime</scope>
    </dependency>
    <dependency>
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-api</artifactId>
      <version>${org.slf4j.version}</version>
    </dependency>
      <dependency>  <!-- Should never be needed at compile time. -->
      <groupId>org.slf4j</groupId>
      <artifactId>slf4j-jdk14</artifactId>
      <version>${org.slf4j.version}</version>
      <scope>runtime</scope>
    </dependency>
    
    <!-- client -->
    <dependency>
      <groupId>org.apache.httpcomponents</groupId>
      <artifactId>httpclient</artifactId>
      <version>${httpcomponents.httpclient.version}</version>
    </dependency>
      <dependency>
        <groupId>org.apache.httpcomponents</groupId>
        <artifactId>httpcore</artifactId>
        <version>${httpcomponents.httpcore.version}</version>
      </dependency>
      <dependency>
        <groupId>org.apache.httpcomponents</groupId>
        <artifactId>httpmime</artifactId>
        <version>${httpcomponents.httpmime.version}</version>
      </dependency>
    <dependency>
      <groupId>net.sf.ehcache</groupId>
      <artifactId>ehcache-core</artifactId>
      <version>${net.sf.ehcache.version}</version>
    </dependency>
    <dependency>
      <groupId>com.sun.jna</groupId>
      <artifactId>jna</artifactId>
      <version>3.0.9</version>
    </dependency>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>${junit.version}</version>
      <scope>test</scope>
    </dependency>

    <!-- server -->
    <dependency>
      <groupId>javax.servlet</groupId>
      <artifactId>javax.servlet-api</artifactId>
      <version>${javax.servlet.version}</version>
      <scope>provided</scope>
    </dependency>
    
  </dependencies>
</dependencyManagement>
    
<!-- All modules use JUnit for their test. -->
<dependencies>
  <dependency>
    <groupId>junit</groupId>
    <artifactId>junit</artifactId>
    <scope>test</scope>
  </dependency>
</dependencies>
    
<!-- Modules for the build in approximate dependency order -->
<!-- The reason there are so may modules is two-fold:
     1. because the layering diagram is relatively complex.
     2. a need to construct a number of products,for which maven
     requires a module for each product
-->

<modules>
  <module>d4core</module>
  <module>d4shared</module>
  <module>d4client</module>
  <module>d4cdmshared</module>
  <module>d4cdmclient</module>
  <module>d4servletshared</module>
  <module>d4servlet</module>
  <module>d4ts</module>
  <module>d4tests</module>
  <module>d4tswar</module> 
</modules>
    
<properties>

  <project.groupid>edu.ucar</project.groupid>
  <!-- Define a non-snapshot version -->
  <dap4.version>4.5.0</dap4.version>

  <!-- default is to skip tests. use mvn test -DskipTests=false to override on command line -->
  <skipTests>true</skipTests>
  
  <!-- Source character encoding (different plug-ins use different sourceEncoding properties) -->
  <sourceEncoding>UTF-8</sourceEncoding>
  <project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
  
  <!-- Build timestamp -->
  <maven.build.timestamp.format>yyyyMMdd.HHmm</maven.build.timestamp.format>
  <build.timestamp>${maven.build.timestamp}</build.timestamp>
  
  <!-- Dependency versions -->
  <httpcomponents.httpcore.version>4.2.5</httpcomponents.httpcore.version>
  <httpcomponents.httpclient.version>4.2.6</httpcomponents.httpclient.version>
  <httpcomponents.httpmime.version>4.2.6</httpcomponents.httpmime.version>
  <javax.servlet.version>3.0.1</javax.servlet.version>
  <javax.servlet.jstl.version>1.2</javax.servlet.jstl.version>
  <junit.version>4.11</junit.version>
  <log4j.version>2.0-beta9</log4j.version>
  <net.jcip.version>1.0</net.jcip.version>
  <net.sf.ehcache.version>2.6.2</net.sf.ehcache.version>
  <org.apache.tomcat.version>7.0.27</org.apache.tomcat.version>
  <org.slf4j.version>1.7.5</org.slf4j.version>
  
  <!-- Plugins versions -->
  <maven-antrun-plugin.version>1.7</maven-antrun-plugin.version>
  <maven-assembly-plugin.version>2.4</maven-assembly-plugin.version>
  <maven-compiler-plugin.version>3.1</maven-compiler-plugin.version>
  <maven-deploy-plugin.version>2.7</maven-deploy-plugin.version>
  <maven-javadoc-plugin.version>2.9.1</maven-javadoc-plugin.version>
  <maven-jar-plugin.version>2.4</maven-jar-plugin.version>
  <maven-release-plugin.version>2.4.1</maven-release-plugin.version>
  <maven-shade-plugin.version>2.1</maven-shade-plugin.version>
  <maven-surefire-plugin.version>2.16</maven-surefire-plugin.version>
  <maven-war-plugin.version>2.4</maven-war-plugin.version>
  
  <cargo-plugin.version>1.4.5</cargo-plugin.version>
  <apache.download>http://mirrors.ibiblio.org/apache/</apache.download>
  <tomcat7.version>7.0.47</tomcat7.version>
  
</properties>
  
<build>
  <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-compiler-plugin</artifactId>
        <version>${maven-compiler-plugin.version}</version>
        <configuration>
         <argLine>-Dfile.encoding=UTF-8</argLine>
	 <encoding>UTF-8</encoding>                    
         <includes>
	    <include>tests/src/test/java/dap4/test/Test*.java</include>
	    <include>tests/src/test/java/dap4/test/util/UnitTestCommon.java</include>
         </includes>
       </configuration>
        <!-- Tests compilation -->
        <!--executions>
          <execution>
            <id>default-testCompile</id>
            <phase>test-compile</phase>
            <goals>
              <goal>testCompile</goal>
            </goals>
          </execution>
        </executions-->
      </plugin>

    <plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-surefire-plugin</artifactId>
      <version>2.16</version>
      <configuration>
         <skip>${skipTests}</skip>
         <testFailureIgnore>true</testFailureIgnore>
          <!--failIfNoTests>true</failIfNoTests-->
         <argLine>-Dfile.encoding=UTF-8</argLine>
	 <encoding>UTF-8</encoding>                    
         <includes>
	    <include>tests/src/test/java/dap4/test/TestDap4All.java</include>
         </includes>
       </configuration>
       <!--executions>
          <execution>
            <phase>test</phase>
            <goals>
              <goal>test</goal>
            </goals>
          </execution>
       </executions-->
    </plugin>
  </plugins>

</build>

</project>
  
