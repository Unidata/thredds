<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>NcML FAQ</title>
  <link href="../cdm.css" rel="stylesheet" type="text/css"/>
</head>

<body>
<h1>NcML FAQ</h1>
<hr/>
<h3>Aggregation</h3>

<p><strong>Q: My NcML aggregation sometimes gives me one result, and sometimes another. I run the same test twice in a row and get different results.</strong>
</p>
<blockquote>
  <p> Many NcML aggregations pick a dataset, more or less at random, to be the <em><strong>prototype dataset</strong></em> for the aggregation, and assumes that
    all the other datasets have the same <em><strong>structural metadata</strong></em>. We call this the <em><strong>homogeneity requirement</strong></em>. So
    its likely that your datasets are failing that requirement.</p>
</blockquote>
<p><strong>Q: My datasets are homogeneous, but the time coordinate on my joinExisting aggregation is not correct.</strong></p>
<blockquote>
  <p>Are the <em><strong>units</strong></em> of the time coordinate the same in each file? If not, you must add
    <strong>timeUnitsChange=&quot;true&quot;</strong> on the aggregation element:</p>
  <pre>&lt;netcdf xmlns=&quot;http://www.unidata.ucar.edu/namespaces/netcdf/ncml-2.2&quot;&gt;<br/> &lt;aggregation dimName=&quot;time&quot; type=&quot;joinExisting&quot; <strong>timeUnitsChange=&quot;true&quot;</strong>&gt;<br/>      &lt;scan location=&quot;D:/test/aggExisting/&quot; suffix=&quot;.grb2&quot; /&gt;<br/> &lt;/aggregation&gt;<br/>&lt;/netcdf&gt;</pre>
</blockquote>
<blockquote>&nbsp;</blockquote>
<hr/>
<address>
  <img src="thredds-ncj_64.png" alt="" width="64" height="64"/> This document is maintained by Unidata. Send comments to <a href="mailto:support-thredds@unidata.ucar.edu">THREDDS support</a>. Last updated: June 24, 2009
</address>
<script src="https://docs.unidata.ucar.edu/js/ncj46_add_in.js" type="text/javascript"></script>
</body>
</html>
