:source-highlighter: coderay
[[threddsDocs]]


Subsetting Parameters for Grid (Coverage) Datasets:
===================================================

[[_subsetting_parameters_for_grid_coverage_datasets]]
== Subsetting Parameters for Grid (Coverage) Datasets:

[cols=",,,,",options="header",]
|=======================================================================
|Parameter Name |Required |Description / possible values |Constraints |default
|*var* |yes |Name(s) of variables (comma separated, no blanks), or __all__. |Variables must be in the dataset description. |

|*north, south, east, west* |no |lat/lon bounding box, units of
degrees_east, degrees_north |south < north, west < east; if crossing 180
meridian, use east boundary > 180 |

|*minx, miny, maxx, maxy* |no |Projection bounding box, in projection
coordinate units (km) |min < max |

|*horizStride* |no |Take only every nth point (both x and y) | |1

|*time* |no |Time as a link:{w3cDate}[W3C date] or _present_ (the time
slice closest to the requested time is returned) or _all_ (all times are
returned) |Must be a time within the dataset time range |_present_

|*time_start, time_end, time_duration* |no |Used to specify a time range
(two of these must be present). Times may be a link:#W3Cdate[W3C date]
or __present__. Duration is a udunit time or link:{w3cDuration}[W3C time
duration] |The requested time range must intersect the dataset time
range |

|*timeStride* |no |Take only every nth time in the available series
|Used with time_range or _all_ |1

|*runtime* |no |Time as a link:{w3cDate}[W3C date] or _latest_ (restrict
to that runtime) or __all__. |Used only if there is an independent
runtime coordinate. |_latest_

|*timeOffset* |no |Restrict to an offset from the runtime coordinate
(must use same timeOffset units as the dataset), or _first_ or _all_
|Used only if there is a 2D time coordinate (runtime and forecast time)
|all

|*vertCoord* |no |Restrict to specified vertical level coordinate value.
|Used only if there is a vertical coordinate. |all

|*ensCoord* |no |Restrict to specified ensemble coordinate. |Used only
if there is an ensemble coordinate. |all
|=======================================================================

Variable subsetting::
  * You *must* specify a list of valid variable names, or "__all__".
  * variable names are case-sensitive and must be URL encoded. Be
  careful not to URL encode twice.
Horizontal spatial subsetting::
  * You may specify a lat/lon bounding box or, if the dataset is on a
  projection, a projection bounding box. If none, return the entire
  horizontal grid.
  * Lat/lon bounds start at the west value and includes the area going
  east, until the east value.
  * Best practice is to make east > west longitude, by adding 360 to it
  if needed.
Vertical spatial subsetting::
  * You may specify a vertical coordinate. The closest level is
  returned. If not specified, all vertical levels are returned.
Temporal subsetting::
  * These rules apply to non-2D time datasets.
  * You may specify a time range, or a time point. If both, only the
  time point is used. If neither, use the present time.
  * A time range (__time_start, time_end, time_duration__) will request
  all times that intersect the range (__timeStride__ is used if
  present).
  * Two of _time_start, time_end, time_duration_ must be present to
  define a valid time range. _time_start, time_end_ may equal
  __present__.
  +
  1.  _time_start, time_end_ : specified range
  2.  _time_start, time_duration_ : starting from _time_start_ until
  _time_start + time_duration_
  3.  _time_end, time_duration_ : starting from _time_end -
  time_duration_ until _time_end_
  * A time point will request the time that is closest to that value.
  * If you set __time=``all''__, then all times are returned
  (__timeStride__ is used if present). All other time parameters are
  ignored.
  * time duration: 1) udunit time unit string or 2)
  link:{w3cDuration}[W3C time duration]
  * datetime: link:{w3cDate}[W3C date] or _present_
  * The dataset determines what Calendar is used, so you must use that
  calendar. There can only be one calendar per dataset.
  * If no time range or time point, a timeOffset can be used to specify
  the time point.
2D Time subsetting::
  * A 2D time dataset will have CoverageType set to __FMRC__.
  * You may specify a runtime with a date, _latest_ or __all__; specify
  a timeOffset with a numeric value, __first__, or __all__. If only one
  is set, use the default for the other. If neither is set, then return
  all times for latest runtime.
  * Time parameters are only used if explicitly set and timeOffset is
  not set. There are only 2 cases where time can be used:
  +
  1.  Set runtime to a specific value or _latest_ (not __all__). Time
  parameters (point or range) can be used.
  2.  Set runtime to __all__. Time point (date, or __present__) can be
  used.
  * Special cases:
  +
  1.  set specific runtime = constant runtime dataset
  2.  set specific timeOffset, set runTime to _all_ = constant offset
  dataset
  3.  set specific time, set runTime to _all_ = constant forecast
  dataset
Interval coordinate::
  * If the coordinate is an _interval coordinate_ (common for vertical
  or time coordinates), it has a lower and upper bound, eg (2.0-10.0 m)
  or (12-24 hours).
  * The request is still made with a single value. The interval that
  contains the requested value is used.
  * If the requested value is contained in more than one interval
  (happens with mixed interval time coordinates), the midpoint of the
  interval is calculated, and the closest midpoint to the requested
  value is used.

Last updated 2015-09-08 08:47:44 MDT
