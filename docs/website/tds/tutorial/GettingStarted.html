<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <title>Getting Started With the TDS: Local Test Server Setup</title>
  <link rel="stylesheet" href="tutorial2.css" type="text/css"/>
  <script type="text/javascript" src="workshopNav.js"></script>
  <script type="text/javascript">
   <!--
    $(document).ready(function () {
      setTutorialNav();
    });
   -->
  </script>


</head>
<body>
<h1>Getting Started With the TDS: Local Test Server Setup</h1>

<h2>Notice: This section is out of date with respect to recent versionis of Java and Tomcat</h2>

For a more up-to-date version of this content, please follow the TDS 5.0 guide starting at <a href="https://docs.unidata.ucar.edu/tds/5.0/userguide/install_java_tomcat.html">https://docs.unidata.ucar.edu/tds/5.0/userguide/install_java_tomcat.html</a>

<div id="section">
  <h2><a name="context">What This Section Covers</a></h2>

  <p>This section covers basic installation and configuration of Tomcat, Java JDK and the TDS for a local test server:</p>

  <p>
    <img src="images/gettingStartedContext.png" width="350" alt="Getting Started Context" style="float:right;"/>
  </p>


  <ul>
    <li><a href="#install">Installing Java and Tomcat</a></li>
    <li><a href="#tour">Tomcat Directory Structure: Quick Tour</a></li>
    <li><a href="#running">Running Tomcat</a></li>
    <li><a href="#logs">Tomcat Log Files</a></li>
    <li><a href="#files">Tomcat (Server-Level) Configuration Files</a></li>
    <li><a href="#deploying">Deploying the TDS</a></li>
    <li><a href="#manager">Tomcat <code>manager</code> Application</a></li>
    <li><a href="#next">Next Steps: Where To Go From Here</a></li>
  </ul>

  <p>No prior knowledge of Tomcat, Java, or the TDS needed.</p>
</div>
<!-- end section -->

<div id="section">
  <h2><a name="install">Installing Java and Tomcat</a></h2>

  <h3>System requirements</h3>

  <div id="note" class="info">
    <h4>JDK installation help</h4>

    <p>Users of GCJ and OS-provided packages (linux) for Java and/or Tomcat may want to reference the
      <a href="https://www.unidata.ucar.edu/mailing_lists/archives/thredds/">THREDDS mailing list</a> for installation help.</p>
  </div>

  <ul>
    <li>Oracle Java 8 (latest version)</li>
    <li>Apache Tomcat 8.x</li>
  </ul>
  <p>While there are different distributors of Java and servlet containers, Unidata develops, uses and tests the THREDDS Data Server using <em>Oracle Java</em> and
    the <em>Apache Tomcat</em> servlet container.</p>


  <h3>Installing Java</h3>
  <ol>
    <li><a href="http://www.oracle.com/technetwork/java/javase/downloads/">Download</a> current Java SE Developer Kit (JDK) from Oracle. Use the latest 1.8 version
      of the JDK.
    </li>
    <p>At the time of this workshop, that is version <em>Java SE 8u51</em>. We will be using the Linux x64-bit tar.gz file:</p>

    <p><code>jdk-8u51-linux-x64.tar.gz</code></p>
    <li>Install the JDK as per the Oracle <a href="http://docs.oracle.com/javase/8/docs/technotes/guides/install/install_overview.html">installation instructions</a>.</li>
    <p>Copy the binary tar.gz file into the installation directory (<code>/usr/local/tds/</code> in this example):</p>

<pre>
<strong>$</strong> pwd
/usr/local/tds
<strong>$</strong> cp Downloads/jdk-8u51-linux-x64.tar.gz .

<strong>$</strong> ls -l
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Desktop
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Documents
drwxr-xr-x  2 tds workshop     4096 Jul 22 17:29 Downloads
<strong>-rw-r--r-- 1 tds workshop 96316511 Jul 15 09:30 jdk-8u51-linux-x64.tar.gz</strong>
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Music
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Pictures
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Public
drwxr-xr-x  3 tds workshop     4096 Jul 15 10:45 tdsMonitor
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Templates
-rwxrwxr-x  1 tds workshop 27866303 Jul 15 10:02 toolsUI-4.3.18.jar
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Videos
</pre>

    <p>Unpack the archive file:</p>

<pre>
<strong>$</strong> tar zxvf jdk-8u51-linux-x64.tar.gz
</pre>

    <p>This will extract the JDK in the installation directory:</p>

<pre>
<strong>$</strong> ls -l
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Desktop
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Documents
drwxr-xr-x  2 tds workshop     4096 Jul 23 14:40 Downloads
<strong>drwxr-xr-x 8 tds workshop 4096 Jun 5 22:07 jdk1.8u51</strong>
-rw-r--r--  1 tds workshop 96316511 Jul 15 09:30 jdk-8u51-linux-x64.tar.gz
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Music
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Pictures
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Public
drwxr-xr-x  3 tds workshop     4096 Jul 15 10:45 tdsMonitor
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Templates
-rwxrwxr-x  1 tds workshop 27866303 Jul 15 10:02 toolsUI-4.3.18.jar
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Videos
</pre>

    <div id="expanded" class="troubleshooting">
      <h4>Troubleshooting</h4>

      <p>Depending on your OS you may need install either the 32-bit or 64-bit version of the JDK. <i>But</i>, we really, really, really recommend you use a 64-bit OS if you're planning to run the THREDDS Data Server.</p>
    </div>
  </ol>


  <h3>Installing Tomcat</h3>

  <div id="note" class="info">
    <h4>Tomcat on Windows</h4>

    <p>For more information about installing Tomcat on Windows OS, see the <a href="http://tomcat.apache.org/tomcat-8.0-doc/setup.html#Windows">Tomcat setup
      guide</a> for installation on different platforms.</p>
  </div>
  <ol>
    <li><a href="http://tomcat.apache.org/download-80.cgi">Download</a> current version of the Tomcat 8 servlet container.</li>
    <p>At the time of this workshop, that is version <em>8.0.24</em>. We will be using the binary tar.gz file:</p>

    <p><code>apache-tomcat-8.0.24.tar.gz</code></p>
    <li>Install Tomcat as per the Apache Tomcat <a href="http://tomcat.apache.org/tomcat-8.0-doc/setup.html">installation instructions</a>.</li>
    <p>Copy the binary tar.gz file into the installation directory (<code>/usr/local/tds/</code> in this example):</p>

<pre>
<strong>$</strong> pwd
/usr/local/tds

<strong>$</strong> ls -l
<strong>-rw-r--r-- 1 tds workshop 7955948 Jul 15 09:35 apache-tomcat-8.0.24.tar.gz</strong>
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Desktop
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Documents
drwxr-xr-x  2 tds workshop     4096 Jul 23 14:40 Downloads
drwxr-xr-x  8 tds workshop     4096 Jun  5 22:07 jdk1.8u51
-rw-r--r--  1 tds workshop 96316511 Jul 15 09:30 jdk-8u51-linux-x64.tar.gz
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Music
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Pictures
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Public
drwxr-xr-x  3 tds workshop     4096 Jul 15 10:45 tdsMonitor
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Templates
-rwxrwxr-x  1 tds workshop 27866303 Jul 15 10:02 toolsUI-4.3.18.jar
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Videos
</pre>

    <p>Unpack the archive file:</p>

<pre>
<strong>$</strong> tar xvzf apache-tomcat-8.0.24.tar.gz
</pre>

    <p>This will create a Tomcat directory:</p>

<pre>
<strong>$</strong> ls -l
<strong>drwxr-xr-x 9 tds workshop 4096 Jul 15 09:37 apache-tomcat-8.0.24</strong>
-rw-r--r-- 1 tds workshop  7955948 Jul 15 09:35 apache-tomcat-8.0.24.tar.gz
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Desktop
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Documents
drwxr-xr-x  2 tds workshop     4096 Jul 23 14:40 Downloads
drwxr-xr-x  8 tds workshop     4096 Jun  5 22:07 jdk1.8u51
-rw-r--r--  1 tds workshop 96316511 Jul 15 09:30 jdk-8u51-linux-x64.tar.gz
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Music
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Pictures
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Public
drwxr-xr-x  3 tds workshop     4096 Jul 15 10:45 tdsMonitor
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Templates
-rwxrwxr-x  1 tds workshop 27866303 Jul 15 10:02 toolsUI-4.3.18.jar
drwxr-xr-x  2 tds workshop     4096 Jul 15 10:33 Videos
</pre>
  </ol>

</div>
<!-- end Installing Java & Tomcat section -->


<div id="section">
  <h2><a name="tour">Tomcat Directory Structure: Quick Tour</a></h2>


  <h3>Exploring the Tomcat directory structure</h3>
  <ol>
    <li>Examine the Tomcat directory structure, aka <code>${tomcat_home}</code>.</li>
    <p>Move into <code>${tomcat_home}</code> and do a long listing:</p>
<pre>
<strong>$</strong> cd apache-tomcat-8.0.24
<strong>$</strong> ls -l
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:37 bin
drwxr-xr-x 2 tds workshop  4096 Jul  2 01:59 conf
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:37 lib
-rw-r--r-- 1 tds workshop 56812 Jul  2 01:59 LICENSE
drwxr-xr-x 2 tds workshop  4096 Jul  2 01:57 logs
-rw-r--r-- 1 tds workshop  1192 Jul  2 01:59 NOTICE
-rw-r--r-- 1 tds workshop  8826 Jul  2 01:59 RELEASE-NOTES
-rw-r--r-- 1 tds workshop 16262 Jul  2 01:59 RUNNING.txt
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:37 temp
drwxr-xr-x 7 tds workshop  4096 Jul  2 01:59 webapps
drwxr-xr-x 2 tds workshop  4096 Jul  2 01:57 work
</pre>

    <li>Familiarize yourself with the following important directories.</li>

    <p><code>bin/</code></p>
    <ul class="little">
      <li>Contains <code>startup.sh</code>, <code>shutdown.sh</code> and other scripts/programs.</li>
      <li>The <code>*.sh files</code> (for Unix systems) are functional duplicates of the <code>*.bat</code> files (for Windows systems).</li>
    </ul>
    <p><code>conf/</code></p>
    <ul class="little">
      <li><em>Server-wide</em> Tomcat configuration.</li>
      <li>You will modify <code>server.xml</code> and <code>tomcat-users.xml</code> to adjust logging, authentication and access control, enable SSL, etc.</li>
      <li>Web applications can override some server-wide settings in their own configuration files (more about that later).</li>
    </ul>

    <p><code>webapps/</code></p>
    <ul class="little">
      <li>Contains web applications directories and WAR files.</li>
      <li>This is where we will be putting the TDS web application.</li>
      <li>You will also be using the <code>manager</code> application that comes with Tomcat during this workshop.</li>
    </ul>

    <p><code>logs/</code></p>

    <ul class="little">
      <li><em>Tomcat log files</em> are here by default.</li>
      <li>This is one of the directories you will be looking for log files (the TDS logs elsewhere by default).</li>
      <li><em>The log files should be your first stop for troubleshooting Tomcat and TDS issues.</em> (Hint, hint.)</li>
      <li>Logs files may contain useful information for assessing the security of your system.</li>
      <li>You will become very familiar with the Tomcat-generated <code>catalina.out</code>, <code>catalina.yyyy-mm-dd.log</code> and <code>localhost_access_log.yyyy-mm-dd.log</code>
        files by the end of this workshop.
      </li>
    </ul>
  </ol>
</div>
<!-- end Tomcat Directory Structure: Quick Tour section -->


<div id="section">
  <h2><a name="running">Running Tomcat</a></h2>


  <h3>Starting &amp; stopping Tomcat</h3>
  <ol>
    <li>Tomcat isn't currently running so we need to start it up.</li>
    <p>Run the <code>startup.sh</code> script in the Tomcat <code>bin/</code> directory:</p>
<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24

<strong>$</strong> bin/startup.sh
</pre>

    <li>Verify Tomcat is running.</li>
    <p>Look and see if you have a Tomcat process running:</p>

<pre>
<strong>$</strong> ps -ef | grep tomcat
tds      21912     1 29 09:39 pts/1    00:00:02 /usr/bin/java -Djava.util.logging.config.file=/usr/local/tds/apache-tomcat-8.0.24/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager -Djava.endorsed.dirs=/usr/local/tds/apache-tomcat-8.0.24/endorsed -classpath /usr/local/tds/apache-tomcat-8.0.24/bin/bootstrap.jar:/usr/local/tds/apache-tomcat-8.0.24/bin/tomcat-juli.jar -Dcatalina.base=/usr/local/tds/apache-tomcat-8.0.24 -Dcatalina.home=/usr/local/tds/apache-tomcat-8.0.24 -Djava.io.tmpdir=/usr/local/tds/apache-tomcat-8.0.24/temp org.apache.catalina.startup.Bootstrap start
tds      21933 21675  0 09:39 pts/1    00:00:00 grep tomcat
</pre>

    <p>Open a new browser window/tab and go to <a href="http://localhost:8080/">http://localhost:8080/</a> to verify Tomcat is running:</p>

    <p><img src="images/congratulations.png" width="300" alt="Tomcat Default Home Page"/></p>

    <li>See if you can shutdown Tomcat.</li>
    <p>Run the <code>shutdown.sh</code> script in the Tomcat <code>bin/</code> directory:</p>
<pre>
<strong>$</strong> bin/shutdown.sh
</pre>
  </ol>

  <div id="expanded" class="question">
    <p> Which Java is Tomcat currently using? (Hint: what was sent to <code>STDOUT</code> when running the <code>startup.sh</code> and <code>shutdown.sh</code>?)
    </p>
  </div>

  <div id="expanded" class="troubleshooting">
    <h4>Troubleshooting</h4>
    <ul>
      <li>Check the logs mostly recently generated in the Tomcat <code>logs</code> for clues about why Tomcat failed to start or stop.</li>
      <li>Pay particular attention to what is being reported in Tomcat's main log file: <code>catalina.out</code>.</li>
    </ul>
  </div>


  <h3>Setting <code>$JAVA_HOME</code>, <code>$JAVA_OPTS</code>, <code>$CATALINA_BASE</code>, and <code>$CONTENT_ROOT</code></h3>

  <div id="note" class="info">
    <h4>Tomcat on Windows</h4>

    <p>If you're running Tomcat on an instance of Windows OS, you will want to create a <code>setenv.bat</code> file.</p>
  </div>
  <p>We are going to create a file called <code>setenv.sh</code> in the Tomcat <code>bin/</code> directory to:</p>
  <ul>
    <li>allow Tomcat to reference/find the location of <code>$JAVA_HOME</code> and <code>$CATALINA_BASE</code>) during startup and shutdown;</li>
    <li>increase the amount of memory allocated to the JVM to enhance performance by setting <code>$JAVA_OPTS</code>; and</li>
    <li>add additional settings to the JVM via <code>$JAVA_OPTS</code> to enable more advanced services we will be learning about later on in this workshop.
    </li>
  </ul>


  <ol>
    <li><a name="makeSetenv"></a>Create the <code>setenv.sh</code> file.</li>
    <p>Using your favorite text editor (gedit, vi, emacs, etc.), create a new file called <code>setenv.sh</code> in the Tomcat <code>bin/</code> directory:</p>

<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24

<strong>$</strong> cd bin
<strong>$</strong> vi setenv.sh
</pre>

    <p>Add the following information and save your <code>setenv.sh</code> file:</p>
<pre>
#!/bin/sh
#
# ENVARS for Tomcat
#
export CATALINA_HOME="/usr/local/tomcat"

export CATALINA_BASE="/usr/local/tomcat"

export JAVA_HOME="/usr"

# TDS specific ENVARS
#
# Define where the TDS content directory will live
#   THIS IS CRITICAL and there is NO DEFAULT - the
#   TDS will not start without this.
#
CONTENT_ROOT=-Dtds.content.root.path=/usr/local/tomcat/content

# set java prefs related variables (used by the wms service, for example)
JAVA_PREFS_ROOTS="-Djava.util.prefs.systemRoot=$CATALINA_HOME/content/thredds/javaUtilPrefs \
                  -Djava.util.prefs.userRoot=$CATALINA_HOME/content/thredds/javaUtilPrefs"

#
# Some commonly used JAVA_OPTS settings:
#
NORMAL="-d64 -Xmx4096m -Xms512m -server -ea"
HEAP_DUMP="-XX:+HeapDumpOnOutOfMemoryError"
HEADLESS="-Djava.awt.headless=true"

#
# Standard setup.
#
JAVA_OPTS="$CONTENT_ROOT $NORMAL $MAX_PERM_GEN $HEAP_DUMP $HEADLESS $JAVA_PREFS_ROOTS"

export JAVA_OPTS
</pre>
    <div id="note" class="info">
      <h4>Settings </h4>

      <p>Whenever possible, Unidata recommends <code>-Xmx4096m</code> (or more) for 64-bit systems.</p>
    </div>

    <p>The parameters we pass to <code>$JAVA_OPTS</code>:</p>

    <ul>
      <li><code>-Xms</code> is the initial and minimum allocated memory of the JVM (for performance).</li>
      <li><code>-Xmx</code> the maximum allocated memory of the JVM (for performance).</li>
      <li><code>-server</code> tells the Hostspot compiler to run the JVM in "server" mode (for performance).</li>
      <li><code>-Djava.awt.headless=true</code> is needed to prevent graphics rendering code from assuming a graphics console exists. Without this, WMS code
        will crash the server in some circumstances.
      </li>
      <li><code style="white-space: nowrap;">-Djava.util.prefs.systemRoot=$CATALINA_BASE/content/thredds/javaUtilPrefs</code> allows the
        <a href="https://www.unidata.ucar.edu/software/tds/v4.6/faq.html#javaUtilPrefs">java.util.prefs</a> of the TDS WMS to write system preferences
        to a location that is writable by the Tomcat user.
      </li>

      <div id="note" class="ahead">
        <h4>Looking Ahead</h4>

        <p>You will learn more about the <a href="https://www.unidata.ucar.edu/software/tds/v4.6/reference/WMS.html">TDS Web Map Service (WMS)</a> later on
          in this tutorial.</p>
      </div>


    </ul>


    <li>Implement your changes by restarting Tomcat.</li>
    <p>Restart Tomcat and examine the output generated to the terminal window by the startup script:</p>

<pre>
<strong>$</strong> ./startup.sh
Using CATALINA_BASE:   /usr/local/tds/apache-tomcat-8.0.24
Using CATALINA_HOME:   /usr/local/tds/apache-tomcat-8.0.24
Using CATALINA_TMPDIR: /usr/local/tds/apache-tomcat-8.0.24/temp
<strong>Using JRE_HOME: /usr/local/tds/jdk1.8u51</strong>
Using CLASSPATH:       /usr/local/tds/apache-tomcat-8.0.24/bin/bootstrap.jar:/usr/local/tds/apache-tomcat-8.0.24/bin/tomcat-juli.jar
</pre>
    <div id="expanded" class="question">
      <p>Did you notice any difference in the what is being reported to <code>STDOUT</code> during startup?</p>
    </div>

    <p>Take a look at the running Tomcat process to see the new <code>$JAVA_OPTS</code> settings:</p>

<pre>
<strong>$</strong> ps -ef | grep tomcat
tds      22007     1  9 09:44 pts/1    00:00:02 /usr/local/tds/jdk1.8u51/bin/java -Djava.util.logging.config.file=/usr/local/tds/apache-tomcat-8.0.24/conf/logging.properties -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager <strong>-Xmx4096m
  -Xms512m -server -Djava.awt.headless=true -Djava.util.prefs.systemRoot=/usr/local/tds/apache-tomcat-8.0.24/content/thredds/javaUtilPrefs</strong> -Djava.endorsed.dirs=/usr/local/tds/apache-tomcat-8.0.24/endorsed -classpath /usr/local/tds/apache-tomcat-8.0.24/bin/bootstrap.jar:/usr/local/tds/apache-tomcat-8.0.24/bin/tomcat-juli.jar -Dcatalina.base=/usr/local/tds/apache-tomcat-8.0.24 -Dcatalina.home=/usr/local/tds/apache-tomcat-8.0.24 -Djava.io.tmpdir=/usr/local/tds/apache-tomcat-8.0.24/temp org.apache.catalina.startup.Bootstrap start
tds      22030 21675  0 09:44 pts/1    00:00:00 grep tomcat
</pre>
    <div id="note" class="info">
      <h4>Environment Variables</h4>

      <p>For more information on the environment variable prerequisites used by Tomcat, consult <code>${tomcat_home}/bin/catalina.sh</code> (or <code>catalina.bat</code>)
        file.</p>
    </div>
    <div id="expanded" class="question">
      <p>What allows us to create the <code>setenv.sh</code> file and have its contents read? (Hint: have a look at the <code>catalina.sh</code> file in the
        Tomcat <code>bin/</code> directory at lines 24 and 133).</p>
    </div>


    <div id="expanded" class="troubleshooting">
      <h4>Troubleshooting</h4>
      <ul>
        <li>Do not forget include the '<code>m</code>' in your <code>-Xms</code> and <code>-Xmx</code> settings.</li>
        <li>You may have allocated too much memory for the JVM settings if Tomcat fails to start and you get the following error reported in the Tomcat log
          <code>catalina.out</code>:
        </li>
<pre>
Error occurred during initialization of VM
Could not reserve enough space for object heap
</pre>
        <li>Likewise, if there is an error with your JVM memory allocation syntax in the <code>setenv.sh</code> file, it will be reported to
          <code>catalina.out</code>:
        </li>
<pre>
Error occurred during initialization of VM
Incompatible minimum and maximum heap sizes specified
</pre>
        <li>If you intend to use WMS and see something like the following in reported in <code>catalina.out</code>:</li>
<pre>
May 25, 2010 6:28:22 PM java.util.prefs.FileSystemPreferences syncWorld
WARNING: Couldn't flush system prefs: java.util.prefs.BackingStoreException: /etc/.java/.systemPrefs/org create failed.
</pre>
        <p>You will need to set the
          <code><a href="https://www.unidata.ucar.edu/software/tds/v4.6/tds/faq.html#javaUtilPrefs">java.util.prefs.systemRoot</a></code> system property
          in <code>$JAVA_OPTS</code> to a location that is writable by the user that Tomcat, e.g.:</p>
<pre>
#!/bin/sh
#
# ENVARS for Tomcat and TDS environment
#
JAVA_HOME="/usr/local/tds/jdk1.8u51"
export JAVA_HOME

JAVA_OPTS="-Xmx4096m -Xms512m -server -Djava.awt.headless=true <strong>-Djava.util.prefs.systemRoot=$CATALINA_BASE/content/thredds/javaUtilPrefs</strong>"
export JAVA_OPTS

CATALINA_BASE="/usr/local/tds/apache-tomcat-8.0.24"
export CATALINA_BASE
</pre>
      </ul>
    </div>
  </ol>

</div>
<!-- end Running Tomcat section -->


<div id="section">
  <h2><a name="logs">Tomcat Log Files</a></h2>


  <h3>Tomcat <code>logs/</code></h3>

  <ol>
    <li>Look at the different types of log files being generated in the Tomcat <code>logs/</code> directory.</li>
    <p>Move into the <code>logs/</code> directory to see the type of information being logged:</p>

<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24/webapps
<strong>$</strong> cd ../logs

<strong>$</strong> ls -l
-rw-r--r-- 1 tds workshop 5637 Jul 15 09:51 catalina.2013-07-15.log
-rw-r--r-- 1 tds workshop 5637 Jul 15 09:51 catalina.out
-rw-r--r-- 1 tds workshop    0 Jul 15 09:39 host-manager.2013-07-15.log
-rw-r--r-- 1 tds workshop 2811 Jul 15 09:52 localhost.2013-07-15.log
-rw-r--r-- 1 tds workshop    0 Jul 15 09:39 localhost_access_log.2013-07-15.txt
-rw-r--r-- 1 tds workshop    0 Jul 15 09:39 manager.2013-07-15.log
</pre>

    <div id="expanded" class="question">
      <p>Do you see a correspondence between some of the web applications in the Tomcat <code>webapps/</code> directory and the naming of certain log files?</p>
    </div>
    <div id="expanded" class="question">
      <p>Is there a difference in the information being logged to <code>catalina.out</code> versus <code>catalina.yyyy-mm-dd.log</code>?</p>
    </div>
    <div id="expanded" class="question">
      <p>Are some log files more verbose than others?</p>
    </div>

    <li>Examining <code>catalina.out</code>.</li>
    <p>Open another terminal window (hereafter referred to as terminal #2) and run the following command in the new terminal:</p>
<pre>
<strong>$</strong> tail -f /usr/local/tds/apache-tomcat-8.0.24/logs/catalina.out
</pre>
    <p>In your original terminal window, start/stop and start Tomcat and watch what is being logged to <code>catalina.out</code> in the terminal #2 window.</p>

    <div id="expanded" class="question">
      <p>Is it only errors messages being reported to <code>catalina.out?</code></p>
    </div>
  </ol>


  <h3>Things to know about <code>catalina.out</code></h3>

  <div id="note" class="info">
    <h4><code>catalina.out</code></h4>

    <p>The <a href="http://marc.info/?l=tomcat-user&w=2&r=1&s=catalina.out+rotate&q=b">Tomcat Users mailing list</a> has seen a lot of traffic dedicated to
      <code>catalina.out</code> logging and rotation.</p>
  </div>


  <ul>
    <li>Tomcat <code>System.out</code> and <code>System.err</code> gets appended to <code>catalina.out</code>.</li>
    <li><code>catalina.out</code> can quickly grow large if the hosted web applications are not specifically catching and logging <code>System.out</code> and
      <code>System.err</code> to designated files.
    </li>
    <li><code>catalina.out</code> is not automatically rotated in Tomcat.</li>
    <li>You should employ an outside log rotation program (e.g., <code>logadm</code> or <code>logrotate</code>) to rotate <code>catalina.out</code>.</li>
    <li>It is good practice to archive and remove old <code>catalina.out</code> files and other log files out of the Tomcat <code>logs/</code> on a regular
      basis.
    </li>
    <li>On Windows, the <code>catalina.out</code> file is not automatically created. Instead only the <code>catalina.yyyy-mm-dd.log</code> files are used. These
      have equivalent content.
    </li>
  </ul>


</div>
<!-- end A Cursory Look at Log Files section -->


<div id="section">
<h2><a name="files">Tomcat (Server-Level) Configuration Files</a></h2>

<h3>About <code>server.xml</code></h3>

<div id="note" class="reminder">
  <h4>Keep in mind</h4>

  <p>Tomcat's configuration files, including <code>server.xml</code> can be found in in the Tomcat <code>conf/</code> directory.</p>
</div>
<ul>
  <li>XML file (well-formed syntax is important).</li>
  <li>Tomcat's main configuration file.</li>
  <li>Changes to <code>server.xml</code> do not take effect until Tomcat is restarted.</li>
  <li>Where we make changes to enhance TDS security.</li>

</ul>


<h3>Important elements in <code>server.xml</code></h3>
<ol>
  <li>Examine the Elements in <code>server.xml</code>.</li>
  <p>Move into the Tomcat <code>conf/</code> directory and examine the <code>server.xml</code> file:</p>
<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24/logs
<strong>$</strong> cd ../conf

<strong>$</strong> less server.xml
</pre>


  <p>Reference the table below to see how the <code>server.xml</code> elements relate to configuring TDS (mouse-over the element for a description):</p>
  <table>
    <tr>
      <th>
        Tag Name
      </th>
      <th>
        Instances
      </th>
      <th>
        How it relates to the TDS
      </th>
    </tr>

    <tr>
      <td>
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/server.html" title="The Server element represents the entire Catalina servlet container as a whole. It is the single outermost element in server.xml"><code>&lt;Server&gt;</code></a>
      </td>
      <td>
        1...1
      </td>
      <td>
        Not modified unless you want to change the port number Tomcat listens for a SHUTDOWN command. (Enabled by default.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 20px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/globalresources.html" title="The GlobalNamingResources element defines the global Java Naming and Directory Interface (JNDI) resources for the Server."><code>&lt;GlobalNamingResources&gt;</code></a>
      </td>
      <td>
        0...*
      </td>
      <td>
        Needed to contain the <code>UserDatabase</code> that corresponds to the <code>UserDatabaseRealm</code> used to authenticate users. (Enabled by default.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 40px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/resources.html" title="The Resource element represents a static resource from which classes will be loaded and static files will be served."><code>
          &lt;Resource&gt;</code></a>
      </td>
      <td>
        0...*
      </td>
      <td>
        Editable user database (<code>tomcat-users.xml</code>) used by <code>UserDatabaseRealm</code> to authenticate users. (<code>UserDatabaseRealm
        Resource</code> enabled by default.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 20px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/service.html" title="The Service element represents the combination of one or more Connector components that share a single Engine component for processing incoming requests. The top Tomcat service is named Catalina (hence the log file name of catalina.out)."><code>
          &lt;Service&gt;</code></a>
      </td>
      <td>
        1...*
      </td>
      <td>
        Not modified unless you wish to establish more than one service. (<code>Catalina Service</code> enabled by default.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 40px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/connectors.html" title="The Connector element forward requests to the Engine using a specific protocol and returns the results to the requesting client. "><code>
          &lt;Connector&gt;</code></a>
      </td>
      <td>
        1...*
      </td>
      <td>
        Used to establish HTTP and SSL connections. Also will communicate with an web server for proxying requests. (HTTP connector enabled by default on port
        8080.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 40px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/engine.html" title="The Engine element represents the entire request processing machinery associated with a particular Catalina Service."><code>
          &lt;Engine&gt;</code></a>
      </td>
      <td>
        1...1
      </td>
      <td>
        Not modified unless you specify a <code>Host</code> other than <code>localhost</code>. (Enabled by default.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 60px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/realm.html" title="The Realm element represents a database of usernames, passwords, and roles (groups) assigned to those users. "><code>
          &lt;Realm&gt;</code></a>
      </td>
      <td>
        0...*
      </td>
      <td>
        The <code>UserDatabaseRealm</code> uses the <code>UserDatabase</code> configured in the global JNDI <code>Resource</code>.
        (<code>UserDatabaseRealm</code> enabled by default.)
      </td>
    </tr>


    <tr>
      <td style="padding-left: 60px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/valve.html" title="The Valve element represents a component that will be inserted into the request processing pipeline for the associated containing element."><code>
          &lt;Valve&gt;</code></a>
      </td>
      <td>
        0...*
      </td>
      <td>
        The <code>RemoteAddrValve</code> is used to filter access to the TDS based on IP address. (NOT enabled by default. You will need to add this if you want
        to use IP Filtering.)
      </td>
    </tr>
    <tr>
      <td style="padding-left: 60px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/host.html" title="The Host element represents a virtual host."><code>
          &lt;Host&gt;</code></a>
      </td>
      <td>
        1...*
      </td>
      <td>
        Not modified unless you specify a <code>Host</code> other than <code>localhost</code>. (<code>localhost</code> enabled by default.)
      </td>
    </tr>
    <tr>
      <td style="padding-left: 80px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/realm.html" title="The Realm element represents a database of usernames, passwords, and roles (groups) assigned to those users. "><code>
          &lt;Realm&gt;</code></a>
      </td>
      <td>
        0...*
      </td>
      <td>
        We use the <code>MemoryRealm</code> to configuring Tomcat to use digested passwords. (NOT enabled by default. You will need to add this if you want to
        use digested passwords.)
      </td>
    </tr>
    <tr>
      <td style="padding-left: 80px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/config/valve.html" title="The Valve element represents a component that will be inserted into the request processing pipeline for the associated containing element."><code>
          &lt;Valve&gt;</code></a>
      </td>
      <td>
        0...*
      </td>
      <td>
        We modify the <code>AccessLogValve</code> to customize the access logs generated by Tomcat. (NOT enabled by default. You will need to add this if you
        want to enable access logging.)
      </td>
    </tr>
  </table>
</ol>

<h3>About <code>tomcat-users.xml</code></h3>
<ul>
  <li>XML file (well-formed syntax is important).</li>
  <li>Stores user names, passwords and roles.</li>
  <li>Changes to <code>tomcat-users.xml</code> do not take effect until Tomcat is restarted.</li>
  <li>What the TDS uses for user authentication and access control.</li>
</ul>


<h3>Important elements in <code>tomcat-users.xml</code></h3>
<ol>
  <li>Examine the Elements in <code>tomcat-users.xml</code>.</li>
  <p>Open the <code>tomcat-users.xml</code> file:</p>
<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24/conf

<strong>$</strong> less tomcat-users.xml
</pre>

  <p>Reference the table below to see how the <code>tomcat-users.xml</code> elements relate to configuring TDS (mouse-over the element for a description):</p>
  <table>
    <tr>
      <th>
        Tag Name
      </th>
      <th>
        Instances
      </th>
      <th>
        How it relates to the TDS
      </th>
    </tr>

    <tr>
      <td>
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/realm-howto.html" title="The tomcat-users element represents the single outermost element in tomcat-users.xml"><code>
          &lt;tomcat-users&gt;</code></a>
      </td>
      <td>
        1...1
      </td>
      <td>
        Not modified. (The only tag you get by default.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 20px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/realm-howto.html" title="The role element defines one role or group a user can belong to."><code>
          &lt;role&gt;</code></a>
      </td>
      <td>
        1...*
      </td>
      <td>
        You will have at least two of these: one for the Tomcat <code>manager</code> application and one for the TDS. (You will need to add if you want to
        enable role-based authentication.)
      </td>
    </tr>

    <tr>
      <td style="padding-left: 20px">
        <a class="tooltip" href="http://tomcat.apache.org/tomcat-8.0-doc/realm-howto.html" title="The user element represents one valid user."><code>
          &lt;user&gt;</code></a>
      </td>
      <td>
        1...*
      </td>
      <td>
        You will need to create an entry for each user who needs access to the Tomcat <code>manager</code> application and/or the restricted areas of the TDS.
        (You will need to add if you want to enable user authentication.)
      </td>
    </tr>
  </table>
</ol>


</div>
<!-- end Tomcat Configuration Files section -->


<div id="section">
  <h2><a name="deploying">Deploying the TDS</a></h2>

  <h3>About WAR files</h3>
  <ul>
    <li>WAR is short for <strong>W</strong>eb <strong>AR</strong>chive.</li>
    <li>By default, Tomcat will automatically unpack the WAR distribution into directory of the same name upon deployment.</li>
    <li>Note: the unpacked directory is overwritten each time a new WAR file is deployed.</li>

  </ul>


  <h3>Downloading &amp; deploying <code>thredds.war</code></h3>

  <div id="note" class="info">
    <h4>Upgrading the TDS</h4>

    <p>A <a href="Checklist.html">maintenance checklist</a> and contains helpful information about upgrading the TDS.
      <a href="https://www.unidata.ucar.edu/software/tds/v4.6/UpgradingTo4.6.html">New features</a> and
      <a href="https://www.unidata.ucar.edu/software/tds/v4.6/UpgradingTo4.6.html">configuration changes</a> made between TDS versions are listed for
      each release. </p>
  </div>

  <ol>
    <li><a href="https://www.unidata.ucar.edu/downloads/tds/">Download</a> the TDS WAR file from Unidata's web site.</li>
    <p>We will be using the current <em>TDS 4.6.2 version</em> for this workshop:</p>

    <p><code>thredds.war</code></p>
    <li>Deploy the TDS in Tomcat.</li>
    <p>Put <code>thredds.war</code> in the Tomcat <code>webapps/</code> directory:</p>

<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24/bin
<strong>$</strong> cd ../webapps

<strong>$</strong> mv ~/thredds.war .
<strong>$</strong> ls -l
drwxr-xr-x 13 tds workshop     4096 Jul 15 09:37 docs
drwxr-xr-x  6 tds workshop     4096 Jul 15 09:37 examples
drwxr-xr-x  5 tds workshop     4096 Jul 15 09:37 host-manager
drwxr-xr-x  5 tds workshop     4096 Jul 15 09:37 manager
drwxr-xr-x  3 tds workshop     4096 Jul 15 09:37 ROOT
-rw-r--r--  1 tds workshop 33218655 Jul 15 09:50 thredds.war
</pre>

    <li>Confirm the TDS has been deployed.</li>
    <p>If Tomcat is already running, wait a couple of seconds after placing the WAR file in the Tomcat <code>webapps/</code> and then verify the <code>thredds.war</code>
      file was unpacked:</p>

<pre>
<strong>$</strong> ls -l
drwxr-xr-x 13 tds workshop     4096 Jul 15 09:37 docs
drwxr-xr-x  6 tds workshop     4096 Jul 15 09:37 examples
drwxr-xr-x  5 tds workshop     4096 Jul 15 09:37 host-manager
drwxr-xr-x  5 tds workshop     4096 Jul 15 09:37 manager
drwxr-xr-x  3 tds workshop     4096 Jul 15 09:37 ROOT
<strong>drwxr-xr-x 8 tds workshop 4096 Jul 15 09:51 thredds</strong>
-rw-r--r--  1 tds workshop 33218655 Jul 15 09:50 thredds.war
</pre>


    <p>Go to <a href="http://localhost:8080/thredds/">http://localhost:8080/thredds/</a> in your browser to verify the TDS has been deployed:</p>

    <p><img src="images/tds.png" width="300" alt="THREDDS Distribution Catalog"/></p>
    <li>Confirm the creation of the TDS <code>content/</code> directory.</li>
    <p>Move into <code>${tomcat_home}</code> and do a long listing:</p>
<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24/webapps
<strong>$</strong> cd ..

<strong>$</strong> ls -l
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:51 bin
drwxr-xr-x 3 tds workshop  4096 Jul 15 09:55 conf
<strong>drwxr-xr-x 3 tds workshop 4096 Jul 15 09:52 content</strong>
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:37 lib
-rw-r--r-- 1 tds workshop 56812 Jul  2 01:59 LICENSE
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:39 logs
-rw-r--r-- 1 tds workshop  1192 Jul  2 01:59 NOTICE
-rw-r--r-- 1 tds workshop  8826 Jul  2 01:59 RELEASE-NOTES
-rw-r--r-- 1 tds workshop 16262 Jul  2 01:59 RUNNING.txt
drwxr-xr-x 2 tds workshop  4096 Jul 15 09:55 temp
drwxr-xr-x 8 tds workshop  4096 Jul 15 09:51 webapps
drwxr-xr-x 3 tds workshop  4096 Jul 15 09:39 work
</pre>

    <div id="expanded" class="troubleshooting">
      <h4>Troubleshooting</h4>
      <ul>
        <li>Any error in the TDS deployment will be reported in the <code>catalina.out</code> file of the Tomcat <code>logs/</code> directory.</li>
        <li>Be sure you have downloaded and deployed the correct version of the TDS (version 4.3.18 snapshot for this workshop). The TDS version number will
          appear in the blue bar at the bottom of TDS catalog pages.
        </li>
      </ul>
    </div>

  </ol>

</div>
<!-- end Deploying the TDS section -->


<div id="section">
  <h2><a name="manager">Tomcat <code>manager</code> Application</a></h2>


  <h3>About the <code>manager</code> application</h3>

  <div id="note" class="info">
    <h4>More about <code>manager</code></h4>

    <p>For more information about the Tomcat <code>manager</code> application, see the Tomcat
      <a href="http://tomcat.apache.org/tomcat-8.0-doc/manager-howto.html">Manager App HOW-TO</a> documentation.</p>
  </div>


  <ul>
    <li>"Free" web application that comes with Tomcat distribution.</li>
    <li>Lives in the <code>manager</code> directory in the Tomcat <code>webapps/</code> directory.</li>
    <li>Allows Tomcat administrators to deploy, undeploy, or reload web applications such as the TDS without having to shut down and restart Tomcat.</li>
    <li>Provides server status statistics for the JVM and each connector you have configured in <code>server.xml</code>.</li>
  </ul>


  <h3>Accessing the Tomcat <code>manager</code> application</h3>

  <div id="note" class="info">
    <h4>Changes to the <code>manager</code> application</h4>

    <p>The <code>manager</code> application URLs and roles has been re-structured. See the Tomcat <a href="http://tomcat.apache.org/migration.html">Migration
      guide</a> for more information.</p>
  </div>
  <p>Attempt to access the Tomcat <code>manager</code> application in your browser: <a href="http://localhost:8080/manager/html/">http://localhost:8080/manager/html/</a>.
    You will be prompted to login via BASIC authentication, which will end in failure since we do not yet have permission to access the <code>manager</code>
    application:</p>

  <p><img src="images/manager401.png" width="300" alt="Manager app with 401 response code"></p>

  <div id="expanded" class="question">
    <p>Based on what we know about Tomcat configuration, which file in the Tomcat <code>conf/</code> directory should we edit to grant ourselves access to the
      <code>manager</code> application?</p>
  </div>


  <div id="note" class="reminder">
    <h4>Keep in mind</h4>

    <p>Changes to <code>tomcat-users.xml</code> do not take effect until Tomcat is restarted.</p>
  </div>
  <h3><a name="grantingAccess">Granting access to the <code>manager</code> application</a></h3>
  <ol>
    <li>Modify <code>tomcat-users.xml</code> to add <code>role</code> and <code>user</code> elements.</li>
    <p>Using your favorite editor, open <code>${tomcat_home}/conf/tomcat-users.xml</code>:</p>
<pre>
<strong>$</strong> vi tomcat-users.xml
</pre>
    <p>Between the <code>&lt;tomcat-users&gt;</code> tags, add a <code>role</code> element and specify the <code>rolename</code> attribute as
      <code>manager</code>:</p>
          
<pre>
&lt;tomcat-users&gt;
    &lt;role rolename="manager-gui"/&gt;
&lt;/tomcat-users&gt;
</pre>
    <p>Now add a new user by adding a <code>user</code> element. Create a <code>username</code> and <code>password</code> for the new user and specify <code>manager-gui</code>
      as one of the <code>roles</code> (in this example we are creating a user called 'admin' with a corresponding password of 'secret'):</p>
<pre>
&lt;tomcat-users&gt;
    &lt;role rolename="manager-gui"/&gt;
    &lt;user username="admin" password="secret" roles="manager-gui"/&gt;   
&lt;/tomcat-users&gt;
</pre>
    <li>Restart Tomcat and log into the <code>manager</code> application.</li>


    <div id="note" class="ahead">
      <h4>Thinking ahead</h4>

      <p>To gain access to restricted parts of the TDS, you will perform the same steps you used to grant yourself access to the <code>manager</code>
        application.</p>
    </div>

    <p>Attempt to access the <code>manager</code> application again (<a href="http://localhost:8080/manager/html/">http://localhost:8080/manager/html/</a>),
      this time logging in using the <code>name</code> and <code>password</code> specified in <code>tomcat-users.xml</code>: </p>


    <p><img src="images/manager.png" width="300" alt="Tomcat manager application"></p>


    <p>Voil&#224;! You should have access to the <code>manager</code> application.</p>


    <div id="expanded" class="troubleshooting">
      <h4>Troubleshooting</h4>
      <ul>
        <li>Check the XML syntax in <code>tomcat-users.xml</code> to make sure it is well-formed and without error.</li>
        <li>Did you restart Tomcat after you made your changes to <code>tomcat-users.xml</code>?</li>
        <li>Any errors will be reported in the Tomcat <code>logs/catalina.out</code> file.</li>
      </ul>
    </div>
  </ol>


  <h3>Deploying the TDS using the <code>manager</code> application</h3>
  <ol>
    <li>Use the <code>manager</code> application to undeploy the TDS.</li>
    <p>Find the TDS in the list of web application on the <code>Applications</code> page. <strong>Stop</strong> and then <strong>Undeploy</strong> the TDS:</p>

    <p><img src="images/undeploy.png" height="92" width="754" alt="Undeploy the TDS"></p>

    <p>List the contents of the Tomcat <code>webapps/</code> directory to verify that both <code>thredds.war</code> and the unpacked <code>thredds/</code>
      directory have been removed:</p>
<pre>
<strong>$</strong> pwd
/usr/local/tds/apache-tomcat-8.0.24/conf
<strong>$</strong> cd ../webapps

<strong>$</strong> ls -l
drwxr-xr-x 13 tds workshop     4096 Jul 15 09:37 docs
drwxr-xr-x  6 tds workshop     4096 Jul 15 09:37 examples
drwxr-xr-x  5 tds workshop     4096 Jul 15 09:37 host-manager
drwxr-xr-x  5 tds workshop     4096 Jul 15 09:37 manager
drwxr-xr-x  3 tds workshop     4096 Jul 15 09:37 ROOT
</pre>
    <li>Deploy the TDS using the <code>manager</code> application.</li>
    <p>Upload the TDS WAR file using the <code>Deploy</code> section of the <code>manager</code> application:</p>

    <p><img src="images/deploy.png" height="182" width="500" alt="Deploy the TDS"></p>

    <p>Confirm the deployment went as planned by accessing the TDS using your browser:
      <a href="http://localhost:8080/thredds/">http://localhost:8080/thredds/</a></p>
  </ol>


</div>
<!-- end Tomcat manager Application section -->


<div id="section">
  <h2><a name="next">Next Steps: Where To Go From Here</a></h2>

  <h3>You're not finished yet</h3>


  <div id="note" class="ahead">
    <h4>TDS Monitoring &amp; Debugging Tools</h4>

    <p>You will need to enable <a href="Security.html#ssl">Enable SSL encryption</a> to access a couple of TDS monitoring and debugging tools.</p>

  </div>

  <ul>
    <li>If you plan to deploy the TDS in a <em>production environment</em> you will need to follow the best practices outlined in the
      <a href="Security.html">Production server overview</a> section of the tutorial to finish hardening your server environment.
    </li>
    <li>The <a href="BasicThreddsConfig_xml.html">Basic TDS Configuration</a> and <a href="ConfigCatalogs.html">TDS Configuration Catalogs</a> sections of this tutorial
      covers the TDS configuration files, configuration options and TDS catalog structure.
    </li>
  </ul>


</div>
<!-- end section -->


</body>
</html>
