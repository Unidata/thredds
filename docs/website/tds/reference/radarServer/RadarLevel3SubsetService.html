<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Subset Service</title>
</head>

<body>
<h1><img src="../../thredds-tds_64.png" > Subset Service for Radar Level3 Data (version 1.0)</h1>
<hr>
<div class="head">
  <h3>Please note that the interface described here is still a prototype, and subject to change.  </h3>
  <h2>RadarLevel3 Subset Service </h2>

  <h3><strong>A. Example urls<a name="urls"></a></strong></h3>
<p>Some interesting URLs for the radarServer service: </p>
  <ul>
    <li>All Radar Collections <a href="http://thredds.ucar.edu/thredds/radarServer/catalog.xml"><strong>http://thredds.ucar.edu/thredds/radarServer/catalog.xml</a></li>
    <li>Level3 Stations for IDD dataset <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD/stations.xml"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD/stations.xml</a></li>
    <li>Level3 IDD Dataset <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD/dataset.xml"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD/dataset.xml</a></li>
    <li>Level3 Stations for CCS039 dataset <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039/stations.xml"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039/stations.xml</a></li>
    <li>Level3 CCS039 Dataset <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039/dataset.xml"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039/dataset.xml</a></li>
  </ul>
  <h2><strong><a name="Common"></a>Subsetting Parameters </strong></h2>
  <p>Some interesting URLs for the radarServer query service: </p>
  <ul>
    <li>IDD dataset, var N0R, station FTG and time latest <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD?var=N0R&stn=FTG&time=present"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD?var=N0R&stn=FTG&time=present</a></li>
    <li>IDD dataset var N0R, with Bounding Box and last hour <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD?var=N0R&north=40.00&south=39.00&west=-105.2&east=-100.0&time_end=present&time_duration=PT1H"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD?var=N0R&north=40.00&south=39.00&west=-105.0&east=-100.0&time_end=present&time_duration=PT1H</a></li>
    <li>IDD dataset var N0R and station FTG for one day <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD?var=N0R&stn=FTG&time_end=present&time_duration=PT24H"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/IDD?var=N0R&stn=FTG&time_end=present&time_duration=PT24H</a></li>
    <li>CCS039 dataset var BREF1, station DMX all times <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039?var=BREF1&stn=DMX&temporal=all"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039?var=BREF1&stn=DMX&temporal=all</a></li>
    <li>CCS039 dataset var BREF1, station DMX time range <a href="http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039?var=BREF1&stn=DMX&time_start=1998-01-01T00:00:00&time_end=2007-12-15T00:00:00"><strong>http://thredds.ucar.edu/thredds/radarServer/nexrad/level3/CCS039?var=BREF1&stn=DMX&time_start=1998-01-01T00:00:00&time_end=2007-12-15T00:00:00</a></li>

  </ul>

  <h3><strong>A. Specify variables<a name="variables"></a></strong></h3>
  <p> 
Variable list:
  <p>
NCR,  NVL,  N3R,  DPA,  N2R,  N1V,  N0S,  N0Z,  N2S,  DHR,
NET,  NVW,  NTP,  N1P,  N1S,  N0R,  N0V,  N1R,  N3S

  <p> 
Variable Descriptions:
  <p>
        <p> "NTP/PrecipAccum" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Precipitation &gt; Rain" units="in" </p>
        <p> "N1P/PrecipAccum" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Precipitation &gt; Rain" units="in" </p>
        <p> "N0R/BaseReflectivity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Radar Reflectivity" units="dbZ" </p>
        <p> "N1R/BaseReflectivity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Radar Reflectivity" units="dbZ" </p>
        <p> "N2R/BaseReflectivity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Radar Reflectivity" units="dbZ" </p>
        <p> "N3R/BaseReflectivity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Radar Reflectivity" units="dbZ" </p>
        <p> "N0Z/BaseReflecitvity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Radar Reflectivity" units="dbZ" </p>
        <p> "NCR/CompReflectivity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Radar Reflectivity" units="dbZ" </p>
        <p> "N0V/BaseVelocity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Doppler Velocity" units="knots" </p>
        <p> "N1V/BaseVelocity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Doppler Velocity" units="knots" </p>
        <p> "N0S/RadialVelocity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Doppler Velocity" units="knots" </p>
        <p> "N1S/RadialVelocity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Doppler Velocity" units="knots" </p>
        <p> "N2S/RadialVelocity" vocabulary="EARTH SCIENCE &gt; Spectral/Engineering &gt; Radar &gt; Doppler Velocity" units="knots" </p>
        <p> "NET/EchoTop" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Clouds &gt; Cloud Optical Depth/Thickness" units="1000 feet" </p>
        <p> "NVL/VertLiquid" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Precipitation &gt; Liquid Water Equivalent" units="kg/m2" </p>
        <p> "NVW/VadWindSpeed" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Atmospheric Winds &gt; Wind Profiles" units="knots" </p>
        <p> "DPA/PrecipArray_0" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Precipitation &gt; Precipitation Amount" units="dBA" </p>
        <p> "DPA/PrecipArray_x" vocabulary="EARTH SCIENCE &gt; Atmosphere &gt; Precipitation &gt; Precipitation Rate" units="dBA" </p>


</p>
  <ul>
    <li><strong>var=</strong>name of variables, separated by ',' (comma).</li>
  </ul>
  <p>Examples:</p>
  <ul>
    <li><strong> </strong><strong>var=N0R</strong></li>
    <li><strong>var=N0R,N1R,N2R,N3R</strong></li>
    <li><strong>var=N0R&amp;var=N1R&amp;var=N2R </strong>(allowed, but comma seperated names are preferred) </li>
  </ul>
  <p>Variable names with spaces or other illegal characters must be escaped. </p>

  <h3><strong>B. Specify spatial<a name="spatial"></a> extent</strong></h3>
  <p>Latitude, longitude values are specified  in decimal degrees north and east, respectively. </p>
  <p>Use one of the following methods: </p>
  <h4><strong>1. Specify lat/lon bounding box</strong></h4>
  <p>Specify all of these parameters  (order does not matter): </p>
  <ol>
    <ul>
      <li><strong>north</strong>: latitude north (decimal degrees) </li>
      <li><strong>south</strong>: latitude south (decimal degrees) </li>
      <li><strong>east</strong>: longitude east (decimal degrees) </li>
      <li><strong>west</strong>: longitude west (decimal degrees) </li>
    </ul>
  </ol>
  <p>The bounding box has <strong>west</strong> as its west edge, includes all points going <strong>east</strong> until the east edge. Units must be degrees east, may be positive or negative, and will be taken modulo 360. Therefore, when crossing the dateline, the west edge may be greater than the east edge. Examples:</p>
  <ul>
    <li><strong> </strong><strong>north=17.3&amp;south=12.088&amp;west=140.2&amp;east=160.0</strong></li>
  </ul>
  <h4><strong>2. Specify lat/lon point</strong></h4>
  <ul>
    <li><strong>latitude: </strong>latitude of point, decimal degrees north </li>
    <li><strong>longitude: </strong>longitude of point, decimal degrees east </li>
  </ul>
  <p>The requested  point must lie within the dataset spatial range. The station closest to the requested point will be used. </p>
  <p>Examples:</p>
  <ul>
    <li><strong> latitude</strong><strong>=17.3&amp;longitude=140.2</strong></li>
  </ul>
  <h4><strong>3. Specify station(s)</strong></h4>
  <p><strong>You may specify a list of stations instead of the lat/lon point or bounding box </strong></p>
  <ul>
    <li><strong>stn=</strong>name of stations, separated by ',' (comma) </li>
  </ul>
  <p>The list of valid stations is available from the Dataset Description. Station names with spaces or other illegal characters must be escaped. </p>
  <p>Examples:</p>
  <ul>
    <li><strong> </strong><strong>stn=FTG</strong></li>
    <li><strong>stn=FTG,GLD,PUX</strong></li>
    <li><strong>stn=FTG&amp;stn=GLD&amp;stn=PUX</strong></li>
  </ul>
  <h3>C. Specify time<a name="temporal"></a> </h3>
 
  <p>Use one of the following methods:</p>
  <h4><strong>1. Time range</strong></h4>
  <p>Specify 2 of these 3 parameters (order does not matter): </p>
  <ul>
    <li><strong>time_start</strong>: starting time as an W3C date string or &quot;present&quot; </li>
    <li><strong>time_end</strong>: ending time  as an W3C date string or &quot;present&quot; </li>
    <li><strong>time_duration</strong>: length of time as an W3C time duration </li>
  </ul>
  <p>The intersection of the requested time range with the dataset time range will be returned. </p>
  <p>Examples:</p>
  <ul>
    <li><strong> time_start=2007-03-29T12:00:00Z&amp;time_end=2007-03-29T13:00:00Z</strong> (between 12 and 1 pm Greenwich time)</li>
    <li><strong>time_start=present&amp;time_duration=P3D</strong> (get 3 day forecast starting from the present) </li>
    <li><strong>time_end=present&amp;time_duration=PT3H</strong> (get last 3 hours) </li>
  </ul>
  <h4><strong>2. Time point</strong></h4>
  <ul>
    <li><strong>time: </strong>time as an W3C date string or &quot;present&quot; </li>
  </ul>
  <p> The 'latest' data retrieval is obtained by 'time=present'.  
  The  requested time point must lie within the dataset time range. The time slice/point closest to the requested time will be returned. </p>
  <p>Examples:</p>
  <ul>
    <li><strong> time=2007-03-29T12:00:00Z</strong></li>
    <li><strong>time=present</strong></li>
  </ul>
  <h4><strong>3. All Times</strong></h4>
  <ul>
    <li><strong>temporal=all</strong></li>
  </ul>
  <p> This returns data from all available times.  
  <h3>D. Specify the return format<a name="accept"></a></h3>
<p>
The accept parameter default is xml and it is the only legal one at this time.
</p>


  <h3>&nbsp;</h3>
</div>
<p> </p>
<hr WIDTH="100%">
<address>
<img src="../../thredds-tds_64.png" >This document was last updated on May 21, 2015 
</address>
<p>&nbsp;
</p>
<script src="https://docs.unidata.ucar.edu/js/tds46_add_in.js" type="text/javascript"></script>
</body>
</html>
