<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">

  <title>TDS Tutorial: threddsConfig.xml Basics</title>
  <link rel="stylesheet" href="tutorial.css" type="text/css">
  <script language="JavaScript1.2" src="http://www.unidata.ucar.edu/acemenu/last_mod.js"></script>
  <link rel="SHORTCUT ICON" href="http://www.unidata.ucar.edu/favicon.ico" type="image/x-icon">
</head>
<body>

<h1>TDS Tutorial: TDS Configuration Basics</h1>

<div id="section">
  <h2><a name="serverInfo">TDS Configuration File</a></h2>

  <p>The TDS configuration file (<code>content/thredds/threddsConfig.xml</code>) allows the TDS
    administrator to set a number of parameters that control the behavior of the TDS. Most of these
    parameters will default to reasonable default values. However, a number of them allow you to
    describe your server, provide contact information, and change the "theme" of server generated
    HTML pages.
  </p>

  <div id="subsection">
    <h3><a name="serverInfo">Server Information</a></h3>
    <p>Information describing your TDS installation and providing contact information is configured
      in the <code>serverInformation</code> element of the TDS configuration file. This includes
    </p>
    <ul>
      <li>basic information about the server (e.g., name, abstract, keywords, host institution)</li>
      <li>contact information so that users will know where to go with problems or questions.</li>
    </ul>

    <p>Here is what the default version of the <code>serverInformation</code> element looks like</p>
    <pre>
&lt;serverInformation&gt;
    &lt;name&gt;Initial TDS Installation&lt;/name&gt;
    &lt;logoUrl&gt;threddsIcon.gif&lt;/logoUrl&gt;
    &lt;logoAltText&gt;Initial TDS Installation&lt;/logoAltText&gt;

    &lt;abstract&gt;Scientific Data&lt;/abstract&gt;
    &lt;keywords&gt;meteorology, atmosphere, climate, ocean, earth science&lt;/keywords&gt;

    &lt;contact&gt;
      &lt;name&gt;Support&lt;/name&gt;
      &lt;organization&gt;My Group&lt;/organization&gt;
      &lt;email&gt;support@my.group&lt;/email&gt;
      &lt;phone&gt;&lt;/phone&gt;
    &lt;/contact&gt;
    &lt;hostInstitution&gt;
      &lt;name&gt;My Group&lt;/name&gt;
      &lt;webSite&gt;http://www.my.group/&lt;/webSite&gt;
      &lt;logoUrl&gt;myGroup.gif&lt;/logoUrl&gt;
      &lt;logoAltText&gt;My Group&lt;/logoAltText&gt;
    &lt;/hostInstitution&gt;
&lt;/serverInformation&gt;
    </pre>

    <h4>Where is Server Information Used</h4>
    <ul>
      <li>The header of all TDS generated catalog HTML pages. Examples:
        <ul>
          <li><a href="http://localhost:8080/thredds/catalog.html">
            http://localhost:8080/thredds/catalog.html</a></li>
          <li><a href="http://motherlode.ucar.edu:8080/thredds/catalog.html">
            http://motherlode.ucar.edu:8080/thredds/catalog.html</a></li>
        </ul>
      </li>
      <li>The <code>Server</code> element of the WMS GetCapabilities document:
        <ul>
          <li><a href="http://motherlode.ucar.edu:8080/thredds/wms/fmrc/NCEP/GFS/Hawaii_160km/NCEP-GFS-Hawaii_160km_best.ncd?service=WMS&version=1.3.0&request=GetCapabilities">
            http://motherlode.ucar.edu:8080/thredds/wms/fmrc/NCEP/GFS/Hawaii_160km/NCEP-GFS-Hawaii_160km_best.ncd?service=WMS&version=1.3.0&request=GetCapabilities</a></li>
        </ul>
        <!--<pre>-->
<!--&lt;Service&gt;-->
    <!--&lt;Name&gt;WMS&lt;/Name&gt;-->
    <!--&lt;Title&gt;Motherlode TDS&lt;/Title&gt;-->
    <!--&lt;Abstract&gt;Scientific Data&lt;/Abstract&gt;-->
    <!--&lt;KeywordList&gt;-->
        <!--&lt;Keyword&gt;meteorology&lt;/Keyword&gt;-->
        <!--&lt;Keyword&gt;atmosphere&lt;/Keyword&gt;-->
        <!--&lt;Keyword&gt;climate&lt;/Keyword&gt;-->
        <!--&lt;Keyword&gt;ocean&lt;/Keyword&gt;-->
        <!--&lt;Keyword&gt;earth science&lt;/Keyword&gt;-->
    <!--&lt;/KeywordList&gt;-->
    <!--&lt;OnlineResource xlink:type="simple" xlink:href="http://www.unidata.ucar.edu/"/&gt;-->
    <!--&lt;ContactInformation&gt;-->
        <!--&lt;ContactPersonPrimary&gt;-->
            <!--&lt;ContactPerson&gt;Support&lt;/ContactPerson&gt;-->
            <!--&lt;ContactOrganization&gt;Unidata&lt;/ContactOrganization&gt;-->
        <!--&lt;/ContactPersonPrimary&gt;-->
        <!--&lt;ContactVoiceTelephone&gt;&lt;/ContactVoiceTelephone&gt;-->
        <!--&lt;ContactElectronicMailAddress&gt;support-thredds@unidata.ucar.edu&lt;/ContactElectronicMailAddress&gt;-->
    <!--&lt;/ContactInformation&gt;-->
    <!--&lt;Fees&gt;none&lt;/Fees&gt;-->
    <!--&lt;AccessConstraints&gt;none&lt;/AccessConstraints&gt;-->
    <!--&lt;LayerLimit&gt;1&lt;/LayerLimit&gt;-->
    <!--&lt;MaxWidth&gt;5000&lt;/MaxWidth&gt;-->
    <!--&lt;MaxHeight&gt;5000&lt;/MaxHeight&gt;-->
<!--&lt;/Service&gt;-->
        <!--</pre>-->
      </li>
      <li>The three supported server information documents:
        <ul>
          <li>An HTML document: <a href="http://localhost:8080/thredds/serverInfo.html">
            http://localhost:8080/thredds/serverInfo.html</a></li>
          <li>An XML document: <a href="http://localhost:8080/thredds/serverInfo.xml">
            http://localhost:8080/thredds/serverInfo.xml</a> and</li>
          <li>A version only text document: <a href="http://localhost:8080/thredds/serverVersion.txt">
            http://localhost:8080/thredds/serverVersion.txt</a></li>
        </ul>
      </li>
    </ul>

    <h4>Other Places the Server Information Will be Included</h4>

    <ul>
      <li>The <code>Server</code> element of the WCS GetCapabilities document.</li>
      <li>All generated THREDDS catalogs that don't override this information.</li>
    </ul>

  </div>

  <div id="subsection" class="exercise">
    <h3>Exercise: Add Server Information</h3>
    <p>Change the default server information in the TDS configuration file</p>
    <ol>
      <li>Look at the current server information:
        <ul>
          <li>&nbsp;&nbsp;&nbsp;&nbsp;Open the Server Info page in a browser:
            <code><a href="http://localhost:8080/thredds/serverInfo.html">
              http://localhost:8080/thredds/serverInfo.html</a></code>
          </li>
        </ul>
      </li>
      <li>Edit the main TDS configuration catalog:
<pre>
<strong>[thredds@workshop00 ~]$</strong> cd ${TOMCAT_HOME}/content/thredds
<strong>[thredds@workshop00 ~]$</strong> vi threddsConfig.xml         <var>// Use the editor of your choice</var>
</pre>
      </li>
      <li>Restart Tomcat so the TDS is reinitialized:
<pre>
<strong>[thredds@workshop00 ~]$</strong> cd ${TOMCAT_HOME}/bin
<strong>[thredds@workshop00 ~]$</strong> ./shutdown.sh
<strong>[thredds@workshop00 ~]$</strong> ./startup.sh
</pre>
      </li>
      <li>Check that the server information has changed:
        <ul>
          <li>&nbsp;&nbsp;&nbsp;&nbsp;Open the Server Info page in a browser:
            <code><a href="http://localhost:8080/thredds/serverInfo.html">
              http://localhost:8080/thredds/serverInfo.html</a></code>
          </li>
        </ul>
      </li>
    </ol>
  </div>
  
  <div id="subsection">
    <h3><a name="htmlSetup">Appearance of Generated HTML Pages</a></h3>
    <p>Server and institution names, logos, and links given in the above section are used
      in all TDS generated HTML pages.</p>
    <p>You can also specify the CSS files and several icons used in the HTML pages. These are
      configured in the <code>htmlSetup</code> element of the TDS configuration file.
    </p>
    <p>The following shows the default values used if the <code>htmlSetup</code>
      element is not configured:</p>

<pre>
&lt;htmlSetup&gt;
    &lt;cssPage&gt;tds.css&lt;/cssPage&gt;
    &lt;cssCatalog&gt;tdsCat.css&lt;/cssCatalog&gt;

    &lt;folderIconUrl&gt;folder.gif&lt;/folderIconUrl&gt;
    &lt;folderIconAlt&gt;Folder&lt;/folderIconAlt&gt;
    &lt;datasetIconUrl&gt;dataset.gif&lt;/datasetIconUrl&gt; &lt;!-- Not currently used. --&gt;
    &lt;datasetIconAlt&gt;Dataset&lt;/datasetIconAlt&gt;     &lt;!-- Not currently used. --&gt;
&lt;/htmlSetup&gt;
</pre>

    <p>NOTE: URLs may be absolute or relative, relative URLs must be
     relative to the webapp URL, i.e., <code>http://server:port/thredds/</code>.</p>
    <p>More details are given in the
      <a href="../reference/ThreddsConfigXMLFile.html#Generated_HTML_Pages">
        threddsConfig.xml Reference document</a>.</p>
  </div>

</div>

<p>
  <img src="../../images/thread.png" height="60" alt="THREDDS" valign="top" align="left" vspace="0" hspace="10" />
  This document is maintained by Unidata and was last updated
  <script language="JavaScript" type="text/JavaScript">
    document.write(date_modified);
  </script>
  Send comments to <a href="mailto:support-thredds@unidata.ucar.edu">THREDDS support</a>.
</p>

</body>
</html>