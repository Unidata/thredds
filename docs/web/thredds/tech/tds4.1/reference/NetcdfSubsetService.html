<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  
  <title>Configuring the NetCDF Subset Service</title>
  <link href="../../tds.css" rel="stylesheet" type="text/css"/>
</head>

<body>
  <h1><img src="../../images/unidataLogo.png" alt="Unidata" align="middle" height="75" width="75">Configuring the NetCDF Subset Service </h1>
  <hr>
  
  <p>The
Netcdf Subset Service (NCSS) is one of the ways that the TDS can serve data.
It is an experimental REST protocol for returning subsets of CDM
datasets. Currently, only the service for Gridded Data is mature enough
for other users to try. The service for Point Data is still under
development, contact us if you are eager to try it on your datasets.</p>
  <p>This
documentation is for TDS administrators. If you are a client wanting to
access data through the Netcdf Subset Service, look at <a href="../../interfaceSpec/NetcdfSubsetService.html">NetCDF Subset Service Reference.</a></p>
  <h2>Enabling the Netcdf Subset Service in the TDS</h2><p>The netCDF Subset Service must be enabled in the <code>threddsConfig.xml</code> configuration file before it can be used. This is done by adding an <strong>allow</strong> element to the <strong>NetcdfSubsetService</strong> element as follows:</p><pre style="margin-left: 40px;">&lt;NetcdfSubsetService&gt;<br>    &lt;allow&gt;true&lt;/allow&gt;<br>&lt;/NetcdfSubsetService&gt;</pre><h2>Serving Datasets with the Netcdf Subset Service</h2>
  <p>1. In your configuration catalogs, you must define the service like this: </p>
  <pre style="margin-left: 40px;">&lt;service name="subsetServer" serviceType="<strong>NetcdfSubset</strong>" base="<strong>/thredds/ncss/grid/</strong>" /&gt;</pre>
  <p>Then as usual, add the service to any datasets that you want served, eg:</p>
  <pre style="margin-left: 40px;">&lt;dataset name="datasetName" ID="datasetID" urlPath="/my/urlPath"&gt; <br>   &lt;serviceName&gt;<strong>subsetServer</strong>&lt;/serviceName&gt; <br>&lt;/dataset&gt; </pre>
  <p>Note that the name of the service ( <em>subsetServer</em> in this example) is arbitrary, but the <strong>serviceType </strong>and<strong> base </strong>must be exactly as shown. </p>
  <p>2. In the <a href="ThreddsConfigXMLFile.html#NetcdfSubsetService">threddsConfig.xml file [3.17 docs]</a>, enable the NetcdfSubsetService. </p>
  <p>&nbsp;</p>
  <h2>Restrictions on what files can be served </h2>
  <p>Only
Gridded Data can be served, e.g. model data and non-swath sattelite
data. The datasets must be in a format that the CDM can read. To check
both of these, open your file in the
    <a href="http://www.unidata.ucar.edu/software/netcdf-java/v2.2/webstart/index.html">NetCDF ToolsUI program</a>,
    using the <em><strong>Grids</strong></em> Tab. Any  fields
    identified as grids will show up in the top table. To be sure,
    go into the viewer (click
    <img src="../../images/redraw.jpg" alt="Redraw" align="middle" height="33" width="35">
    to bring up the Viewer, then click
    <img src="../../images/redraw.jpg" alt="Redraw" align="middle" height="33" width="35">

again to show the data) and make sure the data is displayed correctly.
If all that works, then the data should be served correctly by the TDS.
</p>

  <hr width="100%">
  <address>
    <img alt="THREDDS" src="../../images/thread.png" height="108" width="110">
    This document is maintained by Unidata and was
    last updated March 2009. Send comments to
    <a href="mailto:support-thredds@unidata.ucar.edu">THREDDS support</a>.
  </address>

</body></html>